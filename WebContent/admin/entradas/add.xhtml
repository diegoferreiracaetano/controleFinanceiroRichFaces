<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

<h:head>
	<title>Cadastro de Entradas</title>
</h:head>
<f:view>
	<h:body>
		<h:form>
			<a4j:region>
				<rich:panel header="Cadastro de Entradas" id="painel">
					<br />
					<table id="tab">
						<tr>
							<td>Descrição:</td>
							<td><h:inputText value="#{entradas.entradas.descricao}" /></td>
						</tr>
						<tr>
							<td>Valor Total:</td>
							<td>
								<h:inputText value="#{entradas.entradas.valorTotal}">
								</h:inputText>
							</td>
						</tr>
						<tr>
							<td>Franquia:</td>
							<td>
								<h:selectOneMenu value="#{entradas.entradas.franquiasId}"
								 converter="simpleIndexConverter">
									<f:selectItems value="#{entradas.franquias}"/>
								</h:selectOneMenu>
							</td>
						</tr>
						<tr>
							<td>Formas de Pagamento:</td>
							<td>
								<h:selectOneMenu value="#{entradas.entradas.formaPagamentosId}"
								 converter="simpleIndexConverter">
									<f:selectItems value="#{entradas.formaPagamentos}"/>
								</h:selectOneMenu>
							</td>
						</tr>
						<tr>
							<td>Conta:</td>
							<td>
								<h:selectOneMenu value="#{entradas.entradas.contasId}"
								 converter="simpleIndexConverter">
									<f:selectItems value="#{entradas.contas}"/>
								</h:selectOneMenu>
							</td>
						</tr>
						<tr>
							<td colspan="50">
										
								<rich:dataTable id="pagamentos" var="lista" value="#{entradas.pagamentosList}">
								<rich:column>
									<f:facet name="header">Descrição</f:facet>
									<h:inputText value="#{lista.descricao}" target="#{entradas.pagamentosList.descricao}"/>
								</rich:column>
								<rich:column>
									<f:facet name="header">Data Emissão</f:facet>
									<rich:calendar datePattern="dd/MM/yyyy" value="#{lista.dataEmissao}"  target="#{entradas.pagamentosList.dataEmissao}"/>
								</rich:column>
								<rich:column>
									<f:facet name="header">Data Emissão</f:facet>
									<rich:calendar datePattern="dd/MM/yyyy" value="#{lista.dataVencimento}" target="#{entradas.pagamentosList.dataVencimento}"/>
									<h:inputHidden value="#{lista.dataPagamento}" target="#{entradas.pagamentosList.dataPagamento}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">Valor</f:facet>
									<h:inputText value="#{lista.valor}" target="#{entradas.pagamentosList.valor}"/>
									<h:inputText value="#{lista}" target="#{entradas.pagamentosList}"/>
								</rich:column>
								</rich:dataTable>						
							</td>
						</tr>
						<tr>
							<td colspan="2">
								 <h:commandButton value="Gerar pagamento" action="#{entradas.gerarPagamento}"/>
								<h:commandButton value="Cadastrar" action="#{entradas.add}" id="resultado" />
							</td>
						</tr>
					</table>
				</rich:panel>
			</a4j:region>
		</h:form>
	</h:body>
</f:view>
</html>